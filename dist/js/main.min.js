!function(t,i,e){"use strict";function n(i,e){this.element=i,this.options=t.extend({},o,e),this._defaults=o,this._name=s,this.init()}var s="CarouselController",o={dotsVisible:!0,animationType:"slide",animationSpeed:1e3,isAutoPlay:!0,autoPlaySpeed:3500,loop:!0,indicatorColor:"#FFFFFF",startingSlide:0};n.prototype={init:function(){this.imageCount=t("#slides img").length,console.log("Number of images "+this.imageCount),this.buttonRight=t(".button--right"),this.buttonLeft=t(".button--left"),this.createDots(),this.setDotsColor(),this.initSlideIndex(),this.prepareSlidesForAnim(this.getAnimationType()),this.options.isAutoPlay&&this.options.loop&&this.autoPlay(),this.buttonRight.click(t.proxy(function(t){t.preventDefault();var i=this.getCurrentSlideIndex(),e=this.getCurrentSlideIndex()+1;e<this.getSlides().length?(this.setActiveSlide(i,e),this.animateByType(this.getAnimationType(),i,e)):this.options.loop&&(this.setActiveSlide(i,0),this.animateByType(this.getAnimationType(),i,0))},this)),this.buttonLeft.click(t.proxy(function(t){t.preventDefault();var i=this.getCurrentSlideIndex(),e=this.getCurrentSlideIndex()-1;if(e>=0)this.setActiveSlide(i,e),this.animateByType(this.getAnimationType(),i,e);else if(this.options.loop){var n=this.getSlides().length-1;console.log(n),this.setActiveSlide(i,n),this.animateByType(this.getAnimationType(),i,n)}},this)),this.getDots().click(t.proxy(function(i){var e=this.getCurrentSlideIndex(),n=t(i.target).index();if(this.setActiveSlide(e,n),"crossfade"==this.getAnimationType()){var s=this.getSlides();this.fadeOut(s[e]),this.fadeIn(s[n])}},this))},autoPlay:function(){var t=this;setInterval(function(){var i=t.getCurrentSlideIndex(),e=t.getCurrentSlideIndex()+1;e<t.getSlides().length?(t.setActiveSlide(i,e),t.animateByType(t.getAnimationType(),i,e)):(t.setActiveSlide(i,0),t.animateByType(t.getAnimationType(),i,0))},this.options.autoPlaySpeed)},getAnimationType:function(){return this.options.animationType},animateByType:function(t,i,e){switch(t){case"slide":e>i?this.slideRight():this.slideLeft();break;case"crossfade":var n=this.getSlides();this.fadeOut(n[i]),this.fadeIn(n[e])}},prepareSlidesForAnim:function(i){if(i==o.animationType&&t("ol#slides").addClass("horizontal"),"crossfade"==i){t("ol#slides").addClass("layered");for(var e=this.getSlides(),n=0;n<e.length;n++)"current"!=e[n].id&&t(e[n]).css("opacity","0")}},slideRight:function(){t("#slides").animate({marginLeft:"-="+this.getSlideWidth()},this.options.animationSpeed)},slideLeft:function(){t("#slides").animate({marginLeft:"+="+this.getSlideWidth()},this.options.animationSpeed)},fadeOut:function(i){t(i).animate({opacity:0},this.options.animationSpeed)},fadeIn:function(i){t(i).animate({opacity:1},this.options.animationSpeed)},getSlideWidth:function(){return t("#slides").width()},createDots:function(){if(this.imageCount>0)for(var i=0;i<this.imageCount;i++)t(".carousel-indicators").append("<li></li>")},setDotsColor:function(){t(this.getDots()).css("background-color",this.options.indicatorColor)},getDots:function(){return t(".carousel-indicators li")},getSlides:function(){return t("#slides li")},initSlideIndex:function(){var t=!1,i=this.getSlides();if(!(i.length<=0)){for(var e=0;e<i.length;e++)"current"===i[e].id&&(t=!0,this.curentSlideIndex=e,this.enableNextDot(e));t||this.setDefaultStartSlide(i)}},setDefaultStartSlide:function(t){var i=this.options.startingSlide;if(i<t.length)console.log("Setting default starting slide"),t[i].id="current",this.curentSlideIndex=i,this.enableNextDot(i);else try{throw new Error("Starting slide is out of index of the amount of slides.")}catch(i){console.log(i.name+": "+i.message),console.log("Setting starting slide to index: "+t.length),this.options.startingSlide=t.length-1,this.setDefaultStartSlide(t)}},setActiveSlide:function(t,i){var e=this.getSlides();e[t].id="",this.disablePrevDot(t),this.curentSlideIndex=i,e[i].id="current",this.enableNextDot(i)},getCurrentSlideIndex:function(){return this.curentSlideIndex},enableNextDot:function(t){var i=this.getDots();i[t].id="active"},disablePrevDot:function(t){var i=this.getDots();i[t].id=""}},t.fn[s]=function(i){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new n(this,i))})}}(jQuery,window);